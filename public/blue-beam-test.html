<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🔵 蓝色转动光束特效测试</title>
  <link rel="stylesheet" href="../src/styles/messageNavigation.css">
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #1a1a1a;
      color: #ffffff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    .test-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .message-sample {
      background: #2d2d2d;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 16px;
      margin: 20px 0;
      position: relative;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      display: inline-block;
      margin-right: 12px;
    }

    .message-content {
      display: inline-block;
      vertical-align: top;
      width: calc(100% - 60px);
    }

    .username {
      font-weight: bold;
      color: #7289da;
      margin-bottom: 4px;
    }

    .message-text {
      line-height: 1.6;
      margin: 0;
    }

    .controls {
      text-align: center;
      margin: 30px 0;
    }

    .btn {
      background: #7289da;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      margin: 0 10px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }

    .btn:hover {
      background: #5865f2;
    }

    .status {
      text-align: center;
      margin: 20px 0;
      padding: 12px;
      background: rgba(0, 122, 255, 0.1);
      border: 1px solid rgba(0, 122, 255, 0.3);
      border-radius: 8px;
    }
  </style>
</head>

<body>
  <div class="test-container">
    <h1>🔵 蓝色转动光束特效测试</h1>

    <div class="status" id="status">
      ✅ 准备测试蓝色转动光束特效
    </div>

    <div class="controls">
      <button class="btn" onclick="testBasicBeam()">基础光束</button>
      <button class="btn" onclick="testFastBeam()">快速光束</button>
      <button class="btn" onclick="testIntenseBeam()">强力光束</button>
      <button class="btn" onclick="clearBeams()">清除效果</button>
    </div>

    <div class="message-sample" id="message1" data-message-id="test-1">
      <div class="user-avatar"></div>
      <div class="message-content">
        <div class="username">Alice</div>
        <p class="message-text">这是一条测试消息，用于验证蓝色转动光束特效的显示效果。</p>
      </div>
    </div>

    <div class="message-sample" id="message2" data-message-id="test-2">
      <div class="user-avatar"></div>
      <div class="message-content">
        <div class="username">Bob</div>
        <p class="message-text">这条消息包含更多文本内容，可以测试光束效果在不同长度消息上的表现。光束应该能够完美适配消息的尺寸。</p>
      </div>
    </div>

    <div class="message-sample" id="message3" data-message-id="test-3">
      <div class="user-avatar"></div>
      <div class="message-content">
        <div class="username">Charlie</div>
        <p class="message-text">最后一条测试消息，用于验证多个光束效果是否能正确工作。</p>
      </div>
    </div>
  </div>

  <script>
    function clearAllBeams() {
      document.querySelectorAll('.message-sample').forEach(el => {
        el.classList.remove(
          'blue-pulse-beam-highlight',
          'blue-beam-fast',
          'blue-beam-ultra',
          'blue-beam-intense',
          'blue-beam-medium',
          'blue-beam-soft'
        );

        // 清除扫描器
        const scanner = el.querySelector('.blue-beam-scanner');
        if (scanner) scanner.remove();

        // 清除指示器
        const indicator = el.querySelector('.blue-beam-indicator');
        if (indicator) indicator.remove();
      });
    }

    function createBeamEffects(element) {
      // 创建扫描器
      const scanner = document.createElement('div');
      scanner.className = 'blue-beam-scanner';

      // 创建三根扫描线
      for (let i = 1; i <= 3; i++) {
        const line = document.createElement('div');
        line.className = `beam-line beam-line-${i}`;
        scanner.appendChild(line);
      }

      // 创建粒子效果
      const particles = document.createElement('div');
      particles.className = 'beam-particles';
      scanner.appendChild(particles);

      element.appendChild(scanner);

      // 创建光环指示器
      const indicator = document.createElement('div');
      indicator.className = 'blue-beam-indicator';

      // 创建三个光环
      for (let i = 1; i <= 3; i++) {
        const ring = document.createElement('div');
        ring.className = `beam-ring beam-ring-${i}`;
        indicator.appendChild(ring);
      }

      // 创建中央光辉
      const glow = document.createElement('div');
      glow.className = 'beam-glow';
      indicator.appendChild(glow);

      element.appendChild(indicator);
    }

    function testBasicBeam() {
      clearAllBeams();
      const element = document.getElementById('message1');
      element.classList.add('blue-pulse-beam-highlight', 'blue-beam-normal');
      createBeamEffects(element);

      document.getElementById('status').innerHTML = '🔵 基础蓝色转动光束已激活 - 2.5秒脉冲周期';
    }

    function testFastBeam() {
      clearAllBeams();
      const element = document.getElementById('message2');
      element.classList.add('blue-pulse-beam-highlight', 'blue-beam-fast');
      createBeamEffects(element);

      document.getElementById('status').innerHTML = '🚀 快速蓝色转动光束已激活 - 1.8秒脉冲周期';
    }

    function testIntenseBeam() {
      clearAllBeams();
      const element = document.getElementById('message3');
      element.classList.add('blue-pulse-beam-highlight', 'blue-beam-intense');
      createBeamEffects(element);

      document.getElementById('status').innerHTML = '💎 强力蓝色转动光束已激活 - 更强光晕效果';
    }

    function clearBeams() {
      clearAllBeams();
      document.getElementById('status').innerHTML = '✅ 所有光束效果已清除';
    }

    // 页面加载时自动测试基础光束
    window.addEventListener('load', () => {
      setTimeout(() => {
        testBasicBeam();
      }, 1000);
    });
  </script>
</body>

</html>