<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ”µ è“è‰²è½¬åŠ¨å…‰æŸç‰¹æ•ˆæµ‹è¯•</title>
  <link rel="stylesheet" href="../src/styles/messageNavigation.css">
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #1a1a1a;
      color: #ffffff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    .test-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .message-sample {
      background: #2d2d2d;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 16px;
      margin: 20px 0;
      position: relative;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      display: inline-block;
      margin-right: 12px;
    }

    .message-content {
      display: inline-block;
      vertical-align: top;
      width: calc(100% - 60px);
    }

    .username {
      font-weight: bold;
      color: #7289da;
      margin-bottom: 4px;
    }

    .message-text {
      line-height: 1.6;
      margin: 0;
    }

    .controls {
      text-align: center;
      margin: 30px 0;
    }

    .btn {
      background: #7289da;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      margin: 0 10px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }

    .btn:hover {
      background: #5865f2;
    }

    .status {
      text-align: center;
      margin: 20px 0;
      padding: 12px;
      background: rgba(0, 122, 255, 0.1);
      border: 1px solid rgba(0, 122, 255, 0.3);
      border-radius: 8px;
    }
  </style>
</head>

<body>
  <div class="test-container">
    <h1>ğŸ”µ è“è‰²è½¬åŠ¨å…‰æŸç‰¹æ•ˆæµ‹è¯•</h1>

    <div class="status" id="status">
      âœ… å‡†å¤‡æµ‹è¯•è“è‰²è½¬åŠ¨å…‰æŸç‰¹æ•ˆ
    </div>

    <div class="controls">
      <button class="btn" onclick="testBasicBeam()">åŸºç¡€å…‰æŸ</button>
      <button class="btn" onclick="testFastBeam()">å¿«é€Ÿå…‰æŸ</button>
      <button class="btn" onclick="testIntenseBeam()">å¼ºåŠ›å…‰æŸ</button>
      <button class="btn" onclick="clearBeams()">æ¸…é™¤æ•ˆæœ</button>
    </div>

    <div class="message-sample" id="message1" data-message-id="test-1">
      <div class="user-avatar"></div>
      <div class="message-content">
        <div class="username">Alice</div>
        <p class="message-text">è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯ï¼Œç”¨äºéªŒè¯è“è‰²è½¬åŠ¨å…‰æŸç‰¹æ•ˆçš„æ˜¾ç¤ºæ•ˆæœã€‚</p>
      </div>
    </div>

    <div class="message-sample" id="message2" data-message-id="test-2">
      <div class="user-avatar"></div>
      <div class="message-content">
        <div class="username">Bob</div>
        <p class="message-text">è¿™æ¡æ¶ˆæ¯åŒ…å«æ›´å¤šæ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥æµ‹è¯•å…‰æŸæ•ˆæœåœ¨ä¸åŒé•¿åº¦æ¶ˆæ¯ä¸Šçš„è¡¨ç°ã€‚å…‰æŸåº”è¯¥èƒ½å¤Ÿå®Œç¾é€‚é…æ¶ˆæ¯çš„å°ºå¯¸ã€‚</p>
      </div>
    </div>

    <div class="message-sample" id="message3" data-message-id="test-3">
      <div class="user-avatar"></div>
      <div class="message-content">
        <div class="username">Charlie</div>
        <p class="message-text">æœ€åä¸€æ¡æµ‹è¯•æ¶ˆæ¯ï¼Œç”¨äºéªŒè¯å¤šä¸ªå…‰æŸæ•ˆæœæ˜¯å¦èƒ½æ­£ç¡®å·¥ä½œã€‚</p>
      </div>
    </div>
  </div>

  <script>
    function clearAllBeams() {
      document.querySelectorAll('.message-sample').forEach(el => {
        el.classList.remove(
          'blue-pulse-beam-highlight',
          'blue-beam-fast',
          'blue-beam-ultra',
          'blue-beam-intense',
          'blue-beam-medium',
          'blue-beam-soft'
        );

        // æ¸…é™¤æ‰«æå™¨
        const scanner = el.querySelector('.blue-beam-scanner');
        if (scanner) scanner.remove();

        // æ¸…é™¤æŒ‡ç¤ºå™¨
        const indicator = el.querySelector('.blue-beam-indicator');
        if (indicator) indicator.remove();
      });
    }

    function createBeamEffects(element) {
      // åˆ›å»ºæ‰«æå™¨
      const scanner = document.createElement('div');
      scanner.className = 'blue-beam-scanner';

      // åˆ›å»ºä¸‰æ ¹æ‰«æçº¿
      for (let i = 1; i <= 3; i++) {
        const line = document.createElement('div');
        line.className = `beam-line beam-line-${i}`;
        scanner.appendChild(line);
      }

      // åˆ›å»ºç²’å­æ•ˆæœ
      const particles = document.createElement('div');
      particles.className = 'beam-particles';
      scanner.appendChild(particles);

      element.appendChild(scanner);

      // åˆ›å»ºå…‰ç¯æŒ‡ç¤ºå™¨
      const indicator = document.createElement('div');
      indicator.className = 'blue-beam-indicator';

      // åˆ›å»ºä¸‰ä¸ªå…‰ç¯
      for (let i = 1; i <= 3; i++) {
        const ring = document.createElement('div');
        ring.className = `beam-ring beam-ring-${i}`;
        indicator.appendChild(ring);
      }

      // åˆ›å»ºä¸­å¤®å…‰è¾‰
      const glow = document.createElement('div');
      glow.className = 'beam-glow';
      indicator.appendChild(glow);

      element.appendChild(indicator);
    }

    function testBasicBeam() {
      clearAllBeams();
      const element = document.getElementById('message1');
      element.classList.add('blue-pulse-beam-highlight', 'blue-beam-normal');
      createBeamEffects(element);

      document.getElementById('status').innerHTML = 'ğŸ”µ åŸºç¡€è“è‰²è½¬åŠ¨å…‰æŸå·²æ¿€æ´» - 2.5ç§’è„‰å†²å‘¨æœŸ';
    }

    function testFastBeam() {
      clearAllBeams();
      const element = document.getElementById('message2');
      element.classList.add('blue-pulse-beam-highlight', 'blue-beam-fast');
      createBeamEffects(element);

      document.getElementById('status').innerHTML = 'ğŸš€ å¿«é€Ÿè“è‰²è½¬åŠ¨å…‰æŸå·²æ¿€æ´» - 1.8ç§’è„‰å†²å‘¨æœŸ';
    }

    function testIntenseBeam() {
      clearAllBeams();
      const element = document.getElementById('message3');
      element.classList.add('blue-pulse-beam-highlight', 'blue-beam-intense');
      createBeamEffects(element);

      document.getElementById('status').innerHTML = 'ğŸ’ å¼ºåŠ›è“è‰²è½¬åŠ¨å…‰æŸå·²æ¿€æ´» - æ›´å¼ºå…‰æ™•æ•ˆæœ';
    }

    function clearBeams() {
      clearAllBeams();
      document.getElementById('status').innerHTML = 'âœ… æ‰€æœ‰å…‰æŸæ•ˆæœå·²æ¸…é™¤';
    }

    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•åŸºç¡€å…‰æŸ
    window.addEventListener('load', () => {
      setTimeout(() => {
        testBasicBeam();
      }, 1000);
    });
  </script>
</body>

</html>