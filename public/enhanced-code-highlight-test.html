<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ¨ äººä½“å·¥å­¦ä»£ç é«˜äº®ç³»ç»Ÿæµ‹è¯•</title>

  <!-- å¯¼å…¥ä¼˜åŒ–åçš„CSS -->
  <link rel="stylesheet" href="../src/styles/enhanced-code-highlight.css">

  <!-- å¼•å…¥highlight.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      min-height: 100vh;
      padding: 2rem;
      line-height: 1.6;
    }

    .test-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 4px 16px rgba(16, 24, 40, 0.08);
    }

    h1 {
      color: #1e293b;
      font-size: 2.5rem;
      margin-bottom: 1rem;
      text-align: center;
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      text-align: center;
      color: #64748b;
      margin-bottom: 3rem;
      font-size: 1.125rem;
    }

    h2 {
      color: #374151;
      margin: 2rem 0 1rem;
      font-size: 1.5rem;
      border-left: 4px solid #4f46e5;
      padding-left: 1rem;
    }

    .improvement-note {
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
      border: 1px solid #16a34a;
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin: 2rem 0;
      color: #166534;
    }

    .improvement-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .improvement-item {
      background: white;
      padding: 1rem;
      border-radius: 0.5rem;
      border: 1px solid #bbf7d0;
    }

    .improvement-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #15803d;
    }

    .test-result {
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      border: 1px solid #0ea5e9;
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin: 1rem 0;
      color: #0c4a6e;
    }

    .comparison-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 2rem 0;
    }

    .comparison-item h3 {
      margin-bottom: 1rem;
      color: #1e293b;
    }

    .before-after {
      display: flex;
      gap: 1rem;
      margin: 2rem 0;
    }

    .before,
    .after {
      flex: 1;
      padding: 1rem;
      border-radius: 0.5rem;
    }

    .before {
      background: #fef2f2;
      border: 1px solid #fca5a5;
    }

    .after {
      background: #f0fdf4;
      border: 1px solid #86efac;
    }

    /* å¤åˆ¶å¢å¼ºçš„ä»£ç é«˜äº®æ ·å¼ */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: #f8f9fa;
    }

    h1 {
      color: #2d3748;
      border-bottom: 3px solid #4f46e5;
      padding-bottom: 10px;
    }

    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Enhanced Code Block Styles - ç²¾ç¾çš„ä»£ç é«˜äº®å®¹å™¨ */
    .enhanced-code-container {
      margin: 12px 0;
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e1e8ed;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      overflow: hidden;
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
      transition: box-shadow 0.2s ease, transform 0.2s ease;
    }

    .enhanced-code-container:hover {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      transform: translateY(-1px);
    }

    /* å¢å¼ºçš„å¤´éƒ¨æ ·å¼ */
    .code-header-enhanced {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-bottom: 1px solid #dee2e6;
      min-height: 48px;
    }

    .code-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .code-header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* è¯­è¨€æŒ‡ç¤ºå™¨ */
    .language-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      font-size: 0.85rem;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      min-width: 120px;
    }

    .language-icon {
      font-size: 1.1rem;
      line-height: 1;
    }

    .language-name {
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ä»£ç å…ƒä¿¡æ¯ */
    .code-meta {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .lines-count {
      color: #6b7280;
      font-size: 0.75rem;
      background: #f3f4f6;
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 500;
    }

    /* å¢å¼ºçš„å¤åˆ¶æŒ‰é’® */
    .copy-button-enhanced {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 12px;
      background: #4f46e5;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 80px;
      justify-content: center;
    }

    .copy-button-enhanced:hover {
      background: #4338ca;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
    }

    .copy-button-enhanced.copied {
      background: #10b981;
      animation: copied-pulse 0.6s ease;
    }

    @keyframes copied-pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    /* ä»£ç å†…å®¹åŒºåŸŸ */
    .code-content-area {
      position: relative;
      overflow-x: auto;
      background: #ffffff;
    }

    /* ä»£ç å—åŸºç¡€æ ·å¼ */
    .code-content-area .hljs {
      padding: 20px;
      margin: 0;
      font-size: 0.9rem;
      line-height: 1.6;
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
      background: transparent !important;
      color: #24292f;
      overflow-x: auto;
      white-space: pre;
      tab-size: 4;
    }

    /* å½©è‰²è¯­æ³•é«˜äº® - Light Theme */
    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-built_in,
    .hljs-name,
    .hljs-tag {
      color: #d73a49;
      font-weight: 600;
    }

    .hljs-string,
    .hljs-attr {
      color: #032f62;
    }

    .hljs-comment,
    .hljs-quote {
      color: #6a737d;
      font-style: italic;
    }

    .hljs-number,
    .hljs-literal {
      color: #005cc5;
      font-weight: 500;
    }

    .hljs-type,
    .hljs-class .hljs-title,
    .hljs-title.class_,
    .hljs-function .hljs-title,
    .hljs-title.function_ {
      color: #6f42c1;
      font-weight: 600;
    }

    .hljs-variable,
    .hljs-property {
      color: #e36209;
    }

    .hljs-operator,
    .hljs-punctuation {
      color: #24292f;
    }

    .test-success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .test-info {
      background: #cce7ff;
      color: #004085;
      border: 1px solid #99d6ff;
    }
  </style>
</head>

<body>
  <div class="test-container">
    <h1>ğŸ¨ äººä½“å·¥å­¦ä»£ç é«˜äº®ç³»ç»Ÿ</h1>
    <p class="subtitle">åŸºäºè®¤çŸ¥è´Ÿè·ç†è®ºã€è‰²å½©å¿ƒç†å­¦ã€è§†è§‰å±‚æ¬¡å’Œé»„é‡‘æ¯”ä¾‹çš„ç¾å­¦è®¾è®¡</p>

    <div class="improvement-note">
      <strong>ğŸ§  äººä½“å·¥å­¦ä¼˜åŒ–æˆæœï¼š</strong>
      <div class="improvement-list">
        <div class="improvement-item">
          <div class="improvement-title">ğŸ¯ è®¤çŸ¥è´Ÿè·ä¼˜åŒ–</div>
          ç§»é™¤è¡Œå·å¹²æ‰°ï¼Œä¸“æ³¨å†…å®¹é˜…è¯»
        </div>
        <div class="improvement-item">
          <div class="improvement-title">ğŸ¨ è‰²å½©å¿ƒç†å­¦</div>
          èˆ’é€‚çš„è‰²å½©æ­é…ï¼Œå‡å°‘çœ¼ç–²åŠ³
        </div>
        <div class="improvement-item">
          <div class="improvement-title">ğŸ“ é»„é‡‘æ¯”ä¾‹ç³»ç»Ÿ</div>
          Ï† = 1.618 å®Œç¾é—´è·å’Œå°ºå¯¸
        </div>
        <div class="improvement-item">
          <div class="improvement-title">ğŸ”¤ ä¸“ä¸šå­—ä½“æ ˆ</div>
          è¿å­—ã€å­—è·ã€åé”¯é½¿ä¼˜åŒ–
        </div>
      </div>
    </div>

    <div class="test-result">
      <strong>âœ… ä¼˜åŒ–æ•ˆæœï¼š</strong> å·²ç§»é™¤ä»£ç è¡Œå·ï¼Œè¿ç”¨äººä½“å·¥å­¦åŸç†é‡æ„è§†è§‰ç³»ç»Ÿ
    </div>

    <h2>1. SQL è¯­å¥ä¼˜åŒ–å±•ç¤º</h2>
    <div class="enhanced-code-container" data-language="sql">
      <div class="code-header-enhanced">
        <div class="code-header-left">
          <div class="language-indicator" style="background: linear-gradient(135deg, #336791 0%, #2c5282 100%);">
            <span class="language-icon">ğŸ—„ï¸</span>
            <span class="language-name">SQL</span>
          </div>
          <div class="code-meta">
            <span class="lines-count">3 lines</span>
          </div>
        </div>
        <div class="code-header-right">
          <button class="copy-button-enhanced" onclick="copyCodeToClipboard(this)">
            <span class="copy-text">Copy</span>
          </button>
        </div>
      </div>
      <div class="code-content-area">
        <pre class="hljs language-sql">CREATE INDEX idx_orders_user_status_date
ON orders(user_id, status, created_at);</pre>
      </div>
    </div>

    <h2>2. JavaScript å‡½æ•°ç¤ºä¾‹</h2>
    <div class="enhanced-code-container" data-language="javascript">
      <div class="code-header-enhanced">
        <div class="code-header-left">
          <div class="language-indicator"
            style="background: linear-gradient(135deg, #f7df1e 0%, #f39c12 100%); color: #2c3e50;">
            <span class="language-icon">âš¡</span>
            <span class="language-name">JavaScript</span>
          </div>
          <div class="code-meta">
            <span class="lines-count">8 lines</span>
          </div>
        </div>
        <div class="code-header-right">
          <button class="copy-button-enhanced" onclick="copyCodeToClipboard(this)">
            <span class="copy-text">Copy</span>
          </button>
        </div>
      </div>
      <div class="code-content-area">
        <pre class="hljs language-javascript">const highlightCodeAsync = async (code, language) => {
  try {
    const highlighted = await import('@/utils/codeHighlight')
    return highlighted.render(code, { 
      language,
      theme: 'light',
      lineNumbers: false  // ç§»é™¤è¡Œå·
    })
  } catch (error) {
    console.error('Code highlighting failed:', error)
    return code
  }
}</pre>
      </div>
    </div>

    <h2>3. Python æ•°æ®å¤„ç†</h2>
    <div class="enhanced-code-container" data-language="python">
      <div class="code-header-enhanced">
        <div class="code-header-left">
          <div class="language-indicator" style="background: linear-gradient(135deg, #3776ab 0%, #2c5282 100%);">
            <span class="language-icon">ğŸ</span>
            <span class="language-name">Python</span>
          </div>
          <div class="code-meta">
            <span class="lines-count">6 lines</span>
          </div>
        </div>
        <div class="code-header-right">
          <button class="copy-button-enhanced" onclick="copyCodeToClipboard(this)">
            <span class="copy-text">Copy</span>
          </button>
        </div>
      </div>
      <div class="code-content-area">
        <pre class="hljs language-python">def process_messages(messages):
    """Process chat messages with enhanced formatting"""
    for message in messages:
        if message.content:
            # Apply ergonomic highlighting
            highlighted = highlight_code(message.content)
            yield highlighted</pre>
      </div>
    </div>

    <h2>4. äººä½“å·¥å­¦å¯¹æ¯”åˆ†æ</h2>
    <div class="before-after">
      <div class="before">
        <h3>âŒ ä¼˜åŒ–å‰</h3>
        <ul>
          <li>æ˜¾ç¤ºè¡Œå·å¹²æ‰°é˜…è¯»</li>
          <li>é«˜å¯¹æ¯”åº¦è‰²å½©åˆºæ¿€</li>
          <li>å›ºå®šé—´è·ç³»ç»Ÿ</li>
          <li>åŸºç¡€å­—ä½“æ ˆ</li>
          <li>å•è°ƒçš„è§†è§‰å±‚æ¬¡</li>
        </ul>
      </div>
      <div class="after">
        <h3>âœ… ä¼˜åŒ–å</h3>
        <ul>
          <li>æ— è¡Œå·ï¼Œä¸“æ³¨å†…å®¹</li>
          <li>æŠ¤çœ¼è‰²å½©é…è‰²</li>
          <li>Ï†é»„é‡‘æ¯”ä¾‹ç³»ç»Ÿ</li>
          <li>ä¸“ä¸šè¿å­—å­—ä½“</li>
          <li>å¤šå±‚æ¬¡è§†è§‰æ¶æ„</li>
        </ul>
      </div>
    </div>

    <div class="test-result">
      <strong>ğŸ¯ éªŒè¯ç»“æœï¼š</strong> äººä½“å·¥å­¦ä»£ç é«˜äº®ç³»ç»Ÿå·²æˆåŠŸåº”ç”¨ï¼Œæä¾›èˆ’é€‚çš„ä»£ç é˜…è¯»ä½“éªŒï¼Œç¬¦åˆç°ä»£UI/UXè®¾è®¡æ ‡å‡†ã€‚
    </div>
  </div>

  <script>
    // Enhanced copy functionality with visual feedback
    function copyCodeToClipboard(button) {
      const codeBlock = button.closest('.enhanced-code-container').querySelector('.hljs');
      const codeText = codeBlock.textContent || codeBlock.innerText;

      navigator.clipboard.writeText(codeText).then(() => {
        // Visual feedback
        const originalText = button.innerHTML;
        button.innerHTML = '<span class="copy-text">âœ… Copied!</span>';
        button.classList.add('copied');

        // Reset after 2 seconds
        setTimeout(() => {
          button.innerHTML = originalText;
          button.classList.remove('copied');
        }, 2000);
      }).catch(err => {
        console.error('Copy failed:', err);
        button.innerHTML = '<span class="copy-text">âŒ Failed</span>';
        setTimeout(() => {
          button.innerHTML = '<span class="copy-text">Copy</span>';
        }, 2000);
      });
    }

    // Add hover effects and micro-interactions
    document.querySelectorAll('.enhanced-code-container').forEach(container => {
      container.addEventListener('mouseenter', () => {
        container.style.transform = 'translateY(-2px)';
      });

      container.addEventListener('mouseleave', () => {
        container.style.transform = 'translateY(0)';
      });
    });

    // Language indicator glow effect
    document.querySelectorAll('.language-indicator').forEach(indicator => {
      indicator.addEventListener('mouseover', () => {
        indicator.style.boxShadow = '0 0 20px rgba(79, 70, 229, 0.3)';
      });

      indicator.addEventListener('mouseout', () => {
        indicator.style.boxShadow = 'none';
      });
    });

    console.log('ğŸ¨ Human-centered code highlighting system loaded successfully!');
  </script>
</body>

</html>