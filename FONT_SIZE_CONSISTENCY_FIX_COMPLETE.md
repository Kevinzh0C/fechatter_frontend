# å­—ä½“å¤§å°ä¸€è‡´æ€§ä¿®å¤å®Œæˆæ€»ç»“

## ğŸ¯ é—®é¢˜è¯Šæ–­

ç”¨æˆ·æŠ¥å‘Šçš„å­—ä½“å¤§å°é”™ä¹±ç°è±¡ç¡®å®å­˜åœ¨ï¼Œç»åˆ†æå‘ç°ï¼š

### å‘ç°çš„å†²çªæºï¼š
1. **DiscordMessageItem.vue** ä¸­ç”¨æˆ·åè®¾ç½®ä¸º `13px !important`
2. **DiscordMessageItem.vue** ä¸­æ¶ˆæ¯å†…å®¹è®¾ç½®ä¸º `15px`
3. **unified-cjk-font-system.css** å“åº”å¼è®¾ç½®ä¸­åˆæœ‰ `15px` å’Œ `16px`
4. **å¤šä¸ªCSSæ–‡ä»¶ä¸­æ—¶é—´æˆ³**ä½¿ç”¨äº†ä¸åŒçš„å­—ä½“å¤§å°ï¼ˆ`11px`, `12px`ï¼‰
5. **å†…è”ä»£ç å­—ä½“å¤§å°**è®¾ç½®ä¸º `13px`

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### 1. åˆ›å»ºç»Ÿä¸€å­—ä½“å¤§å°ç³»ç»Ÿ (`src/styles/unified-font-size-fix.css`)

**æ ¸å¿ƒåŸåˆ™ï¼š**
- **åŸºç¡€æ¶ˆæ¯å†…å®¹**: `15px` (Discordæ ‡å‡†)
- **ç”¨æˆ·å**: `14px` (æ¸…æ™°å¯è¯»)
- **æ—¶é—´æˆ³**: `12px` (å‰¯æ–‡æœ¬)
- **è¡Œé«˜**: `1.5` (æœ€ä½³å¯è¯»æ€§)

**CSSå˜é‡ç³»ç»Ÿï¼š**
```css
:root {
  --unified-font-size-base: 15px;          /* æ¶ˆæ¯å†…å®¹ */
  --unified-font-size-username: 14px;      /* ç”¨æˆ·å */
  --unified-font-size-timestamp: 12px;     /* æ—¶é—´æˆ³ */
  --unified-line-height-base: 1.5;         /* åŸºç¡€è¡Œé«˜ */
  --unified-line-height-compact: 1.4;      /* ç´§å‡‘è¡Œé«˜ */
}
```

### 2. å¼ºåˆ¶ç»Ÿä¸€æ‰€æœ‰æ¶ˆæ¯ç»„ä»¶

**è¦†ç›–ç­–ç•¥ï¼š**
- ä½¿ç”¨ `!important` ç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§
- æ·±åº¦é€‰æ‹©å™¨è¦†ç›– Vue ç»„ä»¶å†…éƒ¨æ ·å¼
- å“åº”å¼è®¾è®¡ä¿æŒæ¯”ä¾‹ä¸€è‡´

**å…³é”®é€‰æ‹©å™¨ï¼š**
```css
.discord-message-item,
.message-content,
.content-wrapper {
  font-size: var(--unified-font-size-base) !important;
  line-height: var(--unified-line-height-base) !important;
}

.username-button,
.sender-name {
  font-size: var(--unified-font-size-username) !important;
}

time,
.message-timestamp {
  font-size: var(--unified-font-size-timestamp) !important;
}
```

### 3. æ¸…ç†å†²çªæº

**ç§»é™¤çš„å†²çªè®¾ç½®ï¼š**
- âœ… `DiscordMessageItem.vue` ä¸­ç”¨æˆ·åçš„ `font-size: 13px !important`
- âœ… `DiscordMessageItem.vue` ä¸­æ¶ˆæ¯å†…å®¹çš„ `font-size: 15px`
- âœ… `DiscordMessageItem.vue` ä¸­æ—¶é—´æˆ³çš„ `font-size: 11px !important`
- âœ… `unified-cjk-font-system.css` ä¸­å“åº”å¼çš„å­—ä½“å¤§å°è®¾ç½®
- âœ… å†…è”ä»£ç çš„ç‹¬ç«‹å­—ä½“å¤§å°è®¾ç½®

### 4. å“åº”å¼å­—ä½“å¤§å°ç»Ÿä¸€

**ç§»åŠ¨ç«¯é€‚é…ï¼š**
```css
@media (max-width: 768px) {
  :root {
    --unified-font-size-base: 15px;      /* ä¿æŒä¸€è‡´ */
    --unified-font-size-username: 14px;  /* ä¿æŒä¸€è‡´ */
    --unified-font-size-timestamp: 12px; /* ä¿æŒä¸€è‡´ */
  }
}

@media (max-width: 480px) {
  :root {
    --unified-font-size-base: 16px;      /* å°å±å¹•ç•¥å¢å¤§ */
    --unified-font-size-username: 15px;  /* å°å±å¹•ç•¥å¢å¤§ */
    --unified-font-size-timestamp: 13px; /* å°å±å¹•ç•¥å¢å¤§ */
  }
}
```

## ğŸ“‹ ä¿®å¤æ­¥éª¤

### Phase 1: ç»Ÿä¸€å­—ä½“å¤§å°ç³»ç»Ÿ
1. âœ… åˆ›å»º `src/styles/unified-font-size-fix.css`
2. âœ… å®šä¹‰ç»Ÿä¸€çš„å­—ä½“å¤§å°å˜é‡ç³»ç»Ÿ
3. âœ… åœ¨ `main.js` ä¸­å¼•å…¥ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

### Phase 2: ç»„ä»¶å†²çªæ¸…ç†
1. âœ… ç§»é™¤ `DiscordMessageItem.vue` ä¸­å†²çªçš„å­—ä½“å¤§å°è®¾ç½®
2. âœ… æ¸…ç† `unified-cjk-font-system.css` ä¸­çš„å“åº”å¼å­—ä½“è®¾ç½®
3. âœ… ä¿ç•™é¢œè‰²å’Œå…¶ä»–æ ·å¼ï¼Œåªç»Ÿä¸€å­—ä½“å¤§å°

### Phase 3: æ·±åº¦æ ·å¼è¦†ç›–
1. âœ… ä½¿ç”¨ `:deep()` é€‰æ‹©å™¨è¦†ç›– Vue ç»„ä»¶å†…éƒ¨æ ·å¼
2. âœ… ä½¿ç”¨ `!important` ç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§
3. âœ… è¦†ç›–å¯èƒ½çš„ inline æ ·å¼

## âœ¨ ä¿®å¤æ•ˆæœ

### ç”¨æˆ·å¯è§æ”¹è¿›ï¼š
1. **å­—ä½“å¤§å°å®Œå…¨ä¸€è‡´** - æ‰€æœ‰æ¶ˆæ¯å†…å®¹ä½¿ç”¨ç»Ÿä¸€çš„ 15px
2. **ç”¨æˆ·åå¤§å°ç»Ÿä¸€** - æ‰€æœ‰ç”¨æˆ·åä½¿ç”¨ç»Ÿä¸€çš„ 14px
3. **æ—¶é—´æˆ³å¤§å°ç»Ÿä¸€** - æ‰€æœ‰æ—¶é—´æˆ³ä½¿ç”¨ç»Ÿä¸€çš„ 12px
4. **å“åº”å¼ä¸€è‡´æ€§** - ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ä¿æŒæ¯”ä¾‹ä¸€è‡´
5. **è§†è§‰å’Œè°** - æ¶ˆé™¤äº†å­—ä½“å¤§å°è·³è·ƒå’Œä¸ä¸€è‡´ç°è±¡

### æŠ€æœ¯ä¼˜åŠ¿ï¼š
1. **å•ä¸€çœŸç›¸æº** - æ‰€æœ‰å­—ä½“å¤§å°ç”±ä¸€ä¸ªCSSæ–‡ä»¶æ§åˆ¶
2. **æœ€é«˜ä¼˜å…ˆçº§** - ä½¿ç”¨ `!important` ç¡®ä¿è¦†ç›–æ‰€æœ‰å†²çª
3. **å‘åå…¼å®¹** - ä¿ç•™æ‰€æœ‰ç°æœ‰åŠŸèƒ½å’Œæ ·å¼
4. **å¯ç»´æŠ¤æ€§** - é›†ä¸­ç®¡ç†ï¼Œæ˜“äºè°ƒæ•´

## ğŸ” éªŒè¯æ–¹æ³•

åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æ£€æŸ¥ï¼š
1. æ¶ˆæ¯å†…å®¹åº”æ˜¾ç¤º `font-size: 15px`
2. ç”¨æˆ·ååº”æ˜¾ç¤º `font-size: 14px`  
3. æ—¶é—´æˆ³åº”æ˜¾ç¤º `font-size: 12px`
4. æ‰€æœ‰æ¶ˆæ¯å­—ä½“å¤§å°åº”ä¿æŒä¸€è‡´

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

1. **æ–°å¢**: `src/styles/unified-font-size-fix.css` - ç»Ÿä¸€å­—ä½“å¤§å°ç³»ç»Ÿ
2. **ä¿®æ”¹**: `src/main.js` - å¼•å…¥å­—ä½“å¤§å°ä¿®å¤
3. **ä¿®æ”¹**: `src/components/discord/DiscordMessageItem.vue` - ç§»é™¤å†²çªè®¾ç½®
4. **ä¿®æ”¹**: `src/styles/unified-cjk-font-system.css` - æ¸…ç†å“åº”å¼å†²çª

## ğŸ¯ ä¿®å¤åŸç†

**å¥¥å¡å§†å‰ƒåˆ€åŸåˆ™åº”ç”¨ï¼š**
- åˆ é™¤å¤šä½™çš„ã€å†²çªçš„å­—ä½“å¤§å°è®¾ç½®
- å»ºç«‹å•ä¸€ã€ç»Ÿä¸€çš„å­—ä½“å¤§å°æ§åˆ¶ç³»ç»Ÿ
- ä¿æŒæœ€ç®€æ´æœ‰æ•ˆçš„å®ç°

**ç”Ÿäº§çº§åˆ«è´¨é‡ï¼š**
- å…¨é¢çš„å“åº”å¼æ”¯æŒ
- é«˜å¯¹æ¯”åº¦å’Œæ— éšœç¢æ¨¡å¼é€‚é…
- å®Œæ•´çš„æ·±åº¦æ ·å¼è¦†ç›–

å­—ä½“å¤§å°é”™ä¹±é—®é¢˜å·²å½»åº•è§£å†³ï¼Œæ‰€æœ‰æ¶ˆæ¯ç»„ä»¶ç°åœ¨ä½¿ç”¨ç»Ÿä¸€ã€ä¸€è‡´çš„å­—ä½“å¤§å°ç³»ç»Ÿã€‚ 