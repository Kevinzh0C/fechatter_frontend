/* ğŸ¨ UNIFIED AESTHETIC SYSTEM - ç»Ÿä¸€ç¾å­¦è®¾è®¡ç³»ç»Ÿ
 * å½»åº•æ›¿ä»£3å¥—å†²çªçš„CSSå˜é‡ç³»ç»Ÿ
 * æ¢å¤åŸå§‹äººä½“å·¥å­¦è®¤çŸ¥å¿ƒç†å­¦ç¾å­¦è®¾è®¡
 */

:root {
  /* ===== ğŸ¯ æƒå¨è‰²å½©ç³»ç»Ÿ - Discordä¼˜åŒ–ç‰ˆ ===== */

  /* ä¸»è‰²ç³» - ç»Ÿä¸€æ‰€æœ‰ --discord-primary, --color-primary, --primary-color */
  --primary: #5865f2;
  --primary-hover: #4752c4;
  --primary-active: #3c45a5;
  --primary-light: rgba(88, 101, 242, 0.15);
  --primary-subtle: rgba(88, 101, 242, 0.1);

  /* è¯­ä¹‰åŒ–èƒŒæ™¯ - ç»Ÿä¸€æ‰€æœ‰ --bg-*, --color-background */
  --bg-app: #ffffff;
  --bg-primary: #ffffff;
  --bg-secondary: #f2f3f5;
  --bg-tertiary: #e3e5e8;
  --bg-accent: #f6f6f7;
  --bg-floating: #ffffff;

  /* Discordç²¾ç¡®äº¤äº’è‰²å½© */
  --bg-message-hover: rgba(4, 4, 5, 0.07);
  --bg-message-selected: rgba(88, 101, 242, 0.1);

  /* ç²¾ç¡®æ–‡å­—å±‚æ¬¡ - ç»Ÿä¸€æ‰€æœ‰ --text-*, --color-text */
  --text-primary: #060607;
  --text-secondary: #4e5058;
  --text-muted: #6b7280;
  --text-inverse: #ffffff;
  --text-link: #006ce7;
  --text-brand: #5865f2;

  /* ===== ğŸ¯ æ¢å¤åŸå§‹äººä½“å·¥å­¦é—´è·ç³»ç»Ÿ ===== */

  /* Discordæ¶ˆæ¯ç²¾ç¡®å¸ƒå±€ - æ¢å¤åŸå§‹è®¾è®¡ */
  --message-padding-top: 2px;
  --message-padding-right: 16px;
  --message-padding-bottom: 2px;
  --message-padding-left: 72px;
  /* ä¸º40pxå¤´åƒ + 16pxå·¦è¾¹è· + 16pxé—´éš™ */
  --message-min-height: 44px;
  /* Apple/Googleè§¦æ‘¸æ ‡å‡† */
  --message-spacing: 8px;
  /* æ¶ˆæ¯é—´å‘¼å¸ç©ºé—´ */

  /* å¤´åƒç²¾ç¡®å®šä½ç³»ç»Ÿ */
  --avatar-size: 40px;
  /* é»„é‡‘æ¯”ä¾‹å°ºå¯¸ */
  --avatar-offset-left: 16px;
  /* å®Œç¾å·¦è¾¹è· */
  --avatar-offset-top: 2px;
  /* ä¸æ–‡æœ¬åŸºçº¿å¯¹é½ */

  /* ===== ğŸ¯ ç»Ÿä¸€å­—ä½“ç³»ç»Ÿ - Discordæ ‡å‡† ===== */

  /* ä¸»å­—ä½“æ— - æ›¿ä»£æ‰€æœ‰å†²çªçš„å­—ä½“å®šä¹‰ */
  --font-family-primary: "gg sans", "Noto Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
  --font-family-mono: "Consolas", "Andale Mono WT", "Andale Mono", "Lucida Console", monospace;

  /* å­—ä½“å¤§å°å±‚æ¬¡ */
  --font-size-base: 1rem;
  /* 16px - åŸºå‡† */
  --font-size-sm: 0.75rem;
  /* 12px */

  /* è¡Œé«˜ç³»ç»Ÿ */
  --line-height-base: 1.375;
  /* Discordæ ‡å‡† */

  /* è¿‡æ¸¡åŠ¨ç”» - Discordç²¾ç¡®æ—¶åº */
  --transition-fast: 0.06s ease;
  /* å¾®å¦™äº¤äº’ */
  --transition-medium: 0.15s ease;
  /* æ ‡å‡†åŠ¨ç”» */

  /* åœ†è§’å’Œé˜´å½± */
  --radius-sm: 4px;
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* ===== ğŸŒ™ æš—è‰²ä¸»é¢˜ ===== */
[data-theme="dark"] {
  --bg-app: #313338;
  --bg-primary: #313338;
  --bg-secondary: #2b2d31;
  --bg-message-hover: rgba(255, 255, 255, 0.06);
  --text-primary: #f2f3f5;
  --text-secondary: #b5bac1;
  --text-muted: #9ca3af;
}

/* ===== ğŸ¯ æ ¸å¿ƒç¾å­¦æ¢å¤ ===== */

/* å…¨å±€å­—ä½“ç»Ÿä¸€ */
html,
body,
#app {
  font-family: var(--font-family-primary) !important;
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--text-primary);
  background-color: var(--bg-app);
}

/* Discordæ¶ˆæ¯æ ¸å¿ƒç¾å­¦æ¢å¤ */
.discord-message {
  /* æ¢å¤åŸå§‹ç²¾ç¡®é—´è· - è¿™æ˜¯å…³é”® */
  padding: var(--message-padding-top) var(--message-padding-right) var(--message-padding-bottom) var(--message-padding-left) !important;
  min-height: var(--message-min-height) !important;
  margin-bottom: var(--message-spacing) !important;

  /* æ¢å¤å¾®å¦™äº¤äº’åé¦ˆ */
  transition: all var(--transition-fast) !important;
  border-radius: var(--radius-sm);
  position: relative;
}

.discord-message:hover {
  background-color: var(--bg-message-hover) !important;
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

/* å¤´åƒç²¾ç¡®å®šä½æ¢å¤ */
.message-avatar-slot,
.discord-message .message-avatar-slot {
  position: absolute !important;
  left: var(--avatar-offset-left) !important;
  top: var(--avatar-offset-top) !important;
  width: var(--avatar-size) !important;
  height: var(--avatar-size) !important;
  border-radius: 50%;
  overflow: hidden;
  flex-shrink: 0;
}

/* æ–‡æœ¬å±‚æ¬¡æ¢å¤ */
.sender-name,
.discord-message .sender-name {
  font-size: var(--font-size-base) !important;
  font-weight: 500 !important;
  color: var(--text-primary) !important;
  line-height: var(--line-height-base) !important;
  margin-bottom: 2px !important;
}

.message-timestamp,
.discord-message .message-timestamp {
  font-size: var(--font-size-sm) !important;
  color: var(--text-muted) !important;
  font-weight: 400 !important;
}

.message-text,
.discord-message .message-text {
  font-size: var(--font-size-base) !important;
  color: var(--text-primary) !important;
  line-height: var(--line-height-base) !important;
  word-wrap: break-word;
  margin: 0;
}

/* æ—¶é—´åˆ†éš”ç¬¦ç¾å­¦ */
.time-session-divider {
  margin: 20px 0 !important;
  padding: 12px 16px;
}

/* ç¡®ä¿æ¶ˆæ¯åˆ—è¡¨æ•´ä½“ç¾å­¦ */
.simple-message-list {
  padding: 16px 0;
  background-color: var(--bg-primary);
  font-family: var(--font-family-primary);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
}

/* å“åº”å¼é€‚é… */
@media (max-width: 768px) {
  :root {
    --message-padding-left: 56px;
    --avatar-size: 32px;
    --avatar-offset-left: 12px;
    --message-spacing: 6px;
  }
}

/* æ— éšœç¢æ”¯æŒ */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }

  .discord-message:hover {
    transform: none !important;
  }
}