/* ğŸ·ï¸ Channel List Layout Fix - é¢‘é“åˆ—è¡¨å¸ƒå±€ä¼˜åŒ–
 * ç¡®ä¿é¢‘é“åç§°æ•´é½æ’åˆ—ï¼Œæ¶ˆæ¯é¢„è§ˆé€‚å½“çœç•¥æ˜¾ç¤º
 * è§£å†³å¸ƒå±€ä¸æ•´é½ã€æ–‡æœ¬æº¢å‡ºç­‰é—®é¢˜
 * ğŸ¯ ä¸»è¦åœ¨ä¸»é¡µå’ŒèŠå¤©é¡µé¢ç”Ÿæ•ˆï¼Œéœ€è¦é…åˆä½œç”¨åŸŸæ§åˆ¶å™¨ä½¿ç”¨
 */

:root {
  /* ğŸ¯ é¢‘é“åˆ—è¡¨å¸ƒå±€å‚æ•° */
  --channel-item-height: 44px;
  --channel-item-padding: 8px 12px;
  --channel-name-max-width: 200px;
  --channel-message-max-width: 160px;
  --channel-icon-size: 16px;
  --channel-status-width: 40px;
}

/* ğŸ¯ é¢‘é“é¡¹ç›®ç»Ÿä¸€å¸ƒå±€ - ä»…åœ¨ä¸»é¡µå’ŒèŠå¤©é¡µé¢ç”Ÿæ•ˆ */
body[data-route="/home"] .channel-item,
body[data-route*="/chat"] .channel-item,
body.home-page .channel-item,
body.chat-page .channel-item,
body.has-sidebar .channel-item,
body[data-route="/home"] .dm-item,
body[data-route*="/chat"] .dm-item,
body.home-page .dm-item,
body.chat-page .dm-item,
body.has-sidebar .dm-item,
body[data-route="/home"] .group-item,
body[data-route*="/chat"] .group-item,
body.home-page .group-item,
body.chat-page .group-item,
body.has-sidebar .group-item {
  display: flex !important;
  align-items: center !important;
  min-height: var(--channel-item-height) !important;
  max-height: var(--channel-item-height) !important;
  padding: var(--channel-item-padding) !important;
  margin: 0 0 2px 0 !important;
  border-radius: 6px !important;
  overflow: hidden !important;
  box-sizing: border-box !important;
}

/* ğŸ“± é¢‘é“å›¾æ ‡å›ºå®šå¤§å° - ä»…åœ¨æŒ‡å®šé¡µé¢ç”Ÿæ•ˆ */
body[data-route="/home"] .channel-item .channel-icon,
body[data-route*="/chat"] .channel-item .channel-icon,
body.home-page .channel-item .channel-icon,
body.chat-page .channel-item .channel-icon,
body.has-sidebar .channel-item .channel-icon,
body[data-route="/home"] .dm-item .channel-icon,
body[data-route*="/chat"] .dm-item .channel-icon,
body.home-page .dm-item .channel-icon,
body.chat-page .dm-item .channel-icon,
body.has-sidebar .dm-item .channel-icon,
body[data-route="/home"] .group-item .channel-icon,
body[data-route*="/chat"] .group-item .channel-icon,
body.home-page .group-item .channel-icon,
body.chat-page .group-item .channel-icon,
body.has-sidebar .group-item .channel-icon {
  width: var(--channel-icon-size) !important;
  height: var(--channel-icon-size) !important;
  min-width: var(--channel-icon-size) !important;
  margin-right: 8px !important;
  flex-shrink: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* ğŸ“ é¢‘é“å†…å®¹åŒºåŸŸä¼˜åŒ– - ä»…åœ¨æŒ‡å®šé¡µé¢ç”Ÿæ•ˆ */
body[data-route="/home"] .channel-item .channel-content,
body[data-route*="/chat"] .channel-item .channel-content,
body.home-page .channel-item .channel-content,
body.chat-page .channel-item .channel-content,
body.has-sidebar .channel-item .channel-content,
body[data-route="/home"] .dm-item .channel-content,
body[data-route*="/chat"] .dm-item .channel-content,
body.home-page .dm-item .channel-content,
body.chat-page .dm-item .channel-content,
body.has-sidebar .dm-item .channel-content,
body[data-route="/home"] .group-item .channel-content,
body[data-route*="/chat"] .group-item .channel-content,
body.home-page .group-item .channel-content,
body.chat-page .group-item .channel-content,
body.has-sidebar .group-item .channel-content {
  flex: 1 !important;
  min-width: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  gap: 2px !important;
  overflow: hidden !important;
}

/* ğŸ·ï¸ é¢‘é“åç§°è¡Œä¼˜åŒ– - ä»…åœ¨æŒ‡å®šé¡µé¢ç”Ÿæ•ˆ */
body[data-route="/home"] .channel-item .channel-name,
body[data-route*="/chat"] .channel-item .channel-name,
body.home-page .channel-item .channel-name,
body.chat-page .channel-item .channel-name,
body.has-sidebar .channel-item .channel-name,
body[data-route="/home"] .dm-item .channel-name,
body[data-route*="/chat"] .dm-item .channel-name,
body.home-page .dm-item .channel-name,
body.chat-page .dm-item .channel-name,
body.has-sidebar .dm-item .channel-name,
body[data-route="/home"] .group-item .channel-name,
body[data-route*="/chat"] .group-item .channel-name,
body.home-page .group-item .channel-name,
body.chat-page .group-item .channel-name,
body.has-sidebar .group-item .channel-name {
  display: flex !important;
  align-items: center !important;
  gap: 6px !important;
  min-height: 20px !important;
  max-height: 20px !important;
  overflow: hidden !important;
}

body[data-route="/home"] .channel-item .name-text,
body[data-route*="/chat"] .channel-item .name-text,
body.home-page .channel-item .name-text,
body.chat-page .channel-item .name-text,
body.has-sidebar .channel-item .name-text,
body[data-route="/home"] .dm-item .name-text,
body[data-route*="/chat"] .dm-item .name-text,
body.home-page .dm-item .name-text,
body.chat-page .dm-item .name-text,
body.has-sidebar .dm-item .name-text,
body[data-route="/home"] .group-item .name-text,
body[data-route*="/chat"] .group-item .name-text,
body.home-page .group-item .name-text,
body.chat-page .group-item .name-text,
body.has-sidebar .group-item .name-text {
  font-size: 14px !important;
  font-weight: 500 !important;
  line-height: 1.4 !important;
  color: inherit !important;
  max-width: var(--channel-name-max-width) !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  flex: 1 !important;
  min-width: 0 !important;
}

/* ğŸ”‡ é™éŸ³å›¾æ ‡ */
.channel-item .muted-icon,
.dm-item .muted-icon,
.group-item .muted-icon {
  width: 12px !important;
  height: 12px !important;
  min-width: 12px !important;
  flex-shrink: 0 !important;
}

/* ğŸ“ æ¶ˆæ¯é¢„è§ˆè¡Œä¼˜åŒ– - å…³é”®æ”¹è¿› */
.channel-item .last-message,
.dm-item .last-message,
.group-item .last-message {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  min-height: 16px !important;
  max-height: 16px !important;
  max-width: var(--channel-message-max-width) !important;
  font-size: 12px !important;
  font-weight: normal !important;
  line-height: 1.3 !important;
  color: rgba(255, 255, 255, 0.6) !important;
  overflow: hidden !important;
  white-space: nowrap !important;
  text-overflow: ellipsis !important;
}

/* ğŸ“ æ¶ˆæ¯é¢„è§ˆå­å…ƒç´ ä¼˜åŒ– */
.channel-item .last-message .message-sender,
.dm-item .last-message .message-sender,
.group-item .last-message .message-sender {
  font-size: 12px !important;
  font-weight: 500 !important;
  color: rgba(255, 255, 255, 0.7) !important;
  flex-shrink: 0 !important;
  max-width: 60px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.channel-item .last-message .message-content,
.dm-item .last-message .message-content,
.group-item .last-message .message-content {
  font-size: 12px !important;
  font-weight: normal !important;
  color: rgba(255, 255, 255, 0.6) !important;
  flex: 1 !important;
  min-width: 0 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.channel-item .last-message .message-time,
.dm-item .last-message .message-time,
.group-item .last-message .message-time {
  font-size: 11px !important;
  font-weight: normal !important;
  color: rgba(255, 255, 255, 0.4) !important;
  flex-shrink: 0 !important;
  margin-left: auto !important;
}

/* ğŸ”” é¢‘é“çŠ¶æ€åŒºåŸŸä¼˜åŒ– */
.channel-item .channel-status,
.dm-item .channel-status,
.group-item .channel-status {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-end !important;
  gap: 6px !important;
  min-width: var(--channel-status-width) !important;
  max-width: var(--channel-status-width) !important;
  margin-left: 8px !important;
  flex-shrink: 0 !important;
}

/* ğŸ”´ æœªè¯»å¾½ç«  */
.channel-item .unread-badge,
.dm-item .unread-badge,
.group-item .unread-badge {
  min-width: 18px !important;
  height: 16px !important;
  font-size: 11px !important;
  font-weight: 600 !important;
  padding: 0 4px !important;
  border-radius: 8px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  flex-shrink: 0 !important;
}

/* ğŸ¯ æ´»åŠ¨æŒ‡ç¤ºå™¨ */
.channel-item .activity-indicator,
.dm-item .activity-indicator,
.group-item .activity-indicator {
  width: 6px !important;
  height: 6px !important;
  border-radius: 50% !important;
  flex-shrink: 0 !important;
}

/* âŒ¨ï¸ è¾“å…¥æŒ‡ç¤ºå™¨ */
.channel-item .typing-indicator,
.dm-item .typing-indicator,
.group-item .typing-indicator {
  padding: 2px 4px !important;
  border-radius: 6px !important;
  font-size: 10px !important;
  flex-shrink: 0 !important;
}

/* ğŸš¨ æ²¡æœ‰æ¶ˆæ¯é¢„è§ˆæ—¶çš„å¸ƒå±€ */
.channel-item:not(:has(.last-message)) .channel-content,
.dm-item:not(:has(.last-message)) .channel-content,
.group-item:not(:has(.last-message)) .channel-content {
  justify-content: center !important;
}

.channel-item:not(:has(.last-message)) .channel-name,
.dm-item:not(:has(.last-message)) .channel-name,
.group-item:not(:has(.last-message)) .channel-name {
  min-height: auto !important;
}

/* ğŸ“± å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
  :root {
    --channel-item-height: 48px;
    --channel-item-padding: 10px 14px;
    --channel-name-max-width: 180px;
    --channel-message-max-width: 140px;
  }
}

@media (max-width: 480px) {
  :root {
    --channel-item-height: 52px;
    --channel-item-padding: 12px 16px;
    --channel-name-max-width: 160px;
    --channel-message-max-width: 120px;
  }
}

/* ğŸ­ æ´»è·ƒçŠ¶æ€ä¼˜åŒ– */
.channel-item.active,
.dm-item.active,
.group-item.active {
  background: rgba(255, 255, 255, 0.1) !important;
}

.channel-item:hover,
.dm-item:hover,
.group-item:hover {
  background: rgba(255, 255, 255, 0.06) !important;
}

/* ğŸ”‡ é™éŸ³çŠ¶æ€ */
.channel-item.muted,
.dm-item.muted,
.group-item.muted {
  opacity: 0.6 !important;
}

/* ğŸ“¢ æœªè¯»çŠ¶æ€å¼ºè°ƒ */
.channel-item.unread .name-text,
.dm-item.unread .name-text,
.group-item.unread .name-text {
  font-weight: 600 !important;
  color: white !important;
}

/* ğŸ¨ ç¾åŒ–ä¼˜åŒ– */
.channel-item,
.dm-item,
.group-item {
  transition: all 0.15s ease !important;
  cursor: pointer !important;
}

.channel-item:hover .name-text,
.dm-item:hover .name-text,
.group-item:hover .name-text {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* ğŸ”§ å¼ºåˆ¶é‡ç½®ä»¥é˜²å†²çª */
.channel-list .channel-item *,
.channel-list .dm-item *,
.channel-list .group-item * {
  box-sizing: border-box !important;
}

/* ğŸ“ ç¡®ä¿æ¶ˆæ¯é¢„è§ˆä¸å½±å“æ•´ä½“é«˜åº¦ */
.channel-item .last-message *,
.dm-item .last-message *,
.group-item .last-message * {
  font-size: inherit !important;
  line-height: inherit !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: none !important;
} 