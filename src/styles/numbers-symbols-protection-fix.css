/* ğŸ”¢ Numbers & Symbols Protection Fix - æ•°å­—å’Œç¬¦å·ä¿æŠ¤ä¿®å¤
 * ç¡®ä¿æ•°å­—ã€æ•°å­¦ç¬¦å·ã€æ ‡ç‚¹ç¬¦å·ä¸å—CJKå­—ä½“ä¼˜åŒ–å½±å“
 * è§£å†³æ•°å­—æ˜¾ç¤ºå¼‚å¸¸ã€ç¬¦å·å­—ä½“ä¸ä¸€è‡´ç­‰é—®é¢˜
 */

:root {
  /* ğŸ¯ æ•°å­—å’Œç¬¦å·ä¸“ç”¨å­—ä½“å˜é‡ */
  --numbers-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Text', 
                         'Helvetica Neue', Arial, 'Liberation Sans', sans-serif;
  --numbers-font-size: inherit;
  --numbers-line-height: inherit;
  --numbers-letter-spacing: normal;
  --numbers-font-weight: normal;
}

/* ğŸ”¢ æ•°å­—å­—ç¬¦ä¿æŠ¤ (0-9) */
.emoji-2x:contains('0'),
.emoji-2x:contains('1'),
.emoji-2x:contains('2'),
.emoji-2x:contains('3'),
.emoji-2x:contains('4'),
.emoji-2x:contains('5'),
.emoji-2x:contains('6'),
.emoji-2x:contains('7'),
.emoji-2x:contains('8'),
.emoji-2x:contains('9'),
*[class*="emoji"]:contains('0'),
*[class*="emoji"]:contains('1'),
*[class*="emoji"]:contains('2'),
*[class*="emoji"]:contains('3'),
*[class*="emoji"]:contains('4'),
*[class*="emoji"]:contains('5'),
*[class*="emoji"]:contains('6'),
*[class*="emoji"]:contains('7'),
*[class*="emoji"]:contains('8'),
*[class*="emoji"]:contains('9') {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
  font-weight: var(--numbers-font-weight) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ“Š æ•°å­¦ç¬¦å·ä¿æŠ¤ */
.emoji-2x:contains('+'),
.emoji-2x:contains('-'),
.emoji-2x:contains('Ã—'),
.emoji-2x:contains('Ã·'),
.emoji-2x:contains('='),
.emoji-2x:contains('â‰ '),
.emoji-2x:contains('â‰¤'),
.emoji-2x:contains('â‰¥'),
.emoji-2x:contains('<'),
.emoji-2x:contains('>'),
.emoji-2x:contains('Â±'),
.emoji-2x:contains('âˆ'),
.emoji-2x:contains('âˆš'),
.emoji-2x:contains('âˆ‘'),
.emoji-2x:contains('âˆ'),
.emoji-2x:contains('âˆ«'),
.emoji-2x:contains('%'),
.emoji-2x:contains('â€°'),
.emoji-2x:contains('Â°'),
*[class*="emoji"]:contains('+'),
*[class*="emoji"]:contains('-'),
*[class*="emoji"]:contains('Ã—'),
*[class*="emoji"]:contains('Ã·'),
*[class*="emoji"]:contains('='),
*[class*="emoji"]:contains('â‰ '),
*[class*="emoji"]:contains('â‰¤'),
*[class*="emoji"]:contains('â‰¥'),
*[class*="emoji"]:contains('<'),
*[class*="emoji"]:contains('>'),
*[class*="emoji"]:contains('Â±'),
*[class*="emoji"]:contains('âˆ'),
*[class*="emoji"]:contains('âˆš'),
*[class*="emoji"]:contains('âˆ‘'),
*[class*="emoji"]:contains('âˆ'),
*[class*="emoji"]:contains('âˆ«'),
*[class*="emoji"]:contains('%'),
*[class*="emoji"]:contains('â€°'),
*[class*="emoji"]:contains('Â°') {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ’° è´§å¸ç¬¦å·ä¿æŠ¤ */
.emoji-2x:contains('$'),
.emoji-2x:contains('â‚¬'),
.emoji-2x:contains('Â£'),
.emoji-2x:contains('Â¥'),
.emoji-2x:contains('â‚¹'),
.emoji-2x:contains('â‚©'),
.emoji-2x:contains('â‚½'),
.emoji-2x:contains('Â¢'),
.emoji-2x:contains('â‚¡'),
.emoji-2x:contains('â‚¨'),
*[class*="emoji"]:contains('$'),
*[class*="emoji"]:contains('â‚¬'),
*[class*="emoji"]:contains('Â£'),
*[class*="emoji"]:contains('Â¥'),
*[class*="emoji"]:contains('â‚¹'),
*[class*="emoji"]:contains('â‚©'),
*[class*="emoji"]:contains('â‚½'),
*[class*="emoji"]:contains('Â¢'),
*[class*="emoji"]:contains('â‚¡'),
*[class*="emoji"]:contains('â‚¨') {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ“ æ ‡ç‚¹ç¬¦å·ä¿æŠ¤ */
.emoji-2x:contains('.'),
.emoji-2x:contains(','),
.emoji-2x:contains(';'),
.emoji-2x:contains(':'),
.emoji-2x:contains('!'),
.emoji-2x:contains('?'),
.emoji-2x:contains('('),
.emoji-2x:contains(')'),
.emoji-2x:contains('['),
.emoji-2x:contains(']'),
.emoji-2x:contains('{'),
.emoji-2x:contains('}'),
.emoji-2x:contains('"'),
.emoji-2x:contains("'"),
.emoji-2x:contains('`'),
.emoji-2x:contains('~'),
.emoji-2x:contains('|'),
.emoji-2x:contains('\\'),
.emoji-2x:contains('/'),
.emoji-2x:contains('_'),
.emoji-2x:contains('â€”'),
.emoji-2x:contains('â€“'),
.emoji-2x:contains('â€¦'),
*[class*="emoji"]:contains('.'),
*[class*="emoji"]:contains(','),
*[class*="emoji"]:contains(';'),
*[class*="emoji"]:contains(':'),
*[class*="emoji"]:contains('!'),
*[class*="emoji"]:contains('?'),
*[class*="emoji"]:contains('('),
*[class*="emoji"]:contains(')'),
*[class*="emoji"]:contains('['),
*[class*="emoji"]:contains(']'),
*[class*="emoji"]:contains('{'),
*[class*="emoji"]:contains('}'),
*[class*="emoji"]:contains('"'),
*[class*="emoji"]:contains("'"),
*[class*="emoji"]:contains('`'),
*[class*="emoji"]:contains('~'),
*[class*="emoji"]:contains('|'),
*[class*="emoji"]:contains('\\'),
*[class*="emoji"]:contains('/'),
*[class*="emoji"]:contains('_'),
*[class*="emoji"]:contains('â€”'),
*[class*="emoji"]:contains('â€“'),
*[class*="emoji"]:contains('â€¦') {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ”¤ ASCIIå­—ç¬¦ä¿æŠ¤ (a-z, A-Z) */
.emoji-2x:contains('a'),
.emoji-2x:contains('b'),
.emoji-2x:contains('c'),
.emoji-2x:contains('d'),
.emoji-2x:contains('e'),
.emoji-2x:contains('f'),
.emoji-2x:contains('g'),
.emoji-2x:contains('h'),
.emoji-2x:contains('i'),
.emoji-2x:contains('j'),
.emoji-2x:contains('k'),
.emoji-2x:contains('l'),
.emoji-2x:contains('m'),
.emoji-2x:contains('n'),
.emoji-2x:contains('o'),
.emoji-2x:contains('p'),
.emoji-2x:contains('q'),
.emoji-2x:contains('r'),
.emoji-2x:contains('s'),
.emoji-2x:contains('t'),
.emoji-2x:contains('u'),
.emoji-2x:contains('v'),
.emoji-2x:contains('w'),
.emoji-2x:contains('x'),
.emoji-2x:contains('y'),
.emoji-2x:contains('z'),
*[class*="emoji"]:contains('a'),
*[class*="emoji"]:contains('b'),
*[class*="emoji"]:contains('c'),
*[class*="emoji"]:contains('d'),
*[class*="emoji"]:contains('e'),
*[class*="emoji"]:contains('f'),
*[class*="emoji"]:contains('g'),
*[class*="emoji"]:contains('h'),
*[class*="emoji"]:contains('i'),
*[class*="emoji"]:contains('j'),
*[class*="emoji"]:contains('k'),
*[class*="emoji"]:contains('l'),
*[class*="emoji"]:contains('m'),
*[class*="emoji"]:contains('n'),
*[class*="emoji"]:contains('o'),
*[class*="emoji"]:contains('p'),
*[class*="emoji"]:contains('q'),
*[class*="emoji"]:contains('r'),
*[class*="emoji"]:contains('s'),
*[class*="emoji"]:contains('t'),
*[class*="emoji"]:contains('u'),
*[class*="emoji"]:contains('v'),
*[class*="emoji"]:contains('w'),
*[class*="emoji"]:contains('x'),
*[class*="emoji"]:contains('y'),
*[class*="emoji"]:contains('z') {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ”¢ ç‰¹æ®Šæ•°å­—æ ¼å¼ä¿æŠ¤ */
.emoji-2x[data-number],
.emoji-2x[data-percentage],
.emoji-2x[data-currency],
.emoji-2x[data-math],
*[class*="emoji"][data-number],
*[class*="emoji"][data-percentage],
*[class*="emoji"][data-currency],
*[class*="emoji"][data-math] {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸš¨ å¼ºåˆ¶ç±»ä¿æŠ¤ */
.numbers-not-emoji,
.symbols-not-emoji,
.ascii-not-emoji,
.math-not-emoji,
.currency-not-emoji,
.punctuation-not-emoji {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
  font-weight: var(--numbers-font-weight) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ¯ åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿æŠ¤ç±» */
.contains-numbers {
  font-family: var(--numbers-font-family) !important;
}

.contains-symbols {
  font-family: var(--numbers-font-family) !important;
}

.contains-ascii {
  font-family: var(--numbers-font-family) !important;
}

/* ğŸ”§ CJKå­—ä½“ä¼˜åŒ–ä¸­çš„æ•°å­—ç¬¦å·ä¿æŠ¤ */
*[lang="ja"] .numbers-not-emoji,
*[lang="zh"] .numbers-not-emoji,
*[lang="ko"] .numbers-not-emoji,
*[class*="cjk"] .numbers-not-emoji,
*[class*="japanese"] .numbers-not-emoji,
*[class*="chinese"] .numbers-not-emoji,
*[class*="korean"] .numbers-not-emoji {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
  margin: 0 !important;
  display: inline !important;
  vertical-align: baseline !important;
}

/* ğŸ·ï¸ é¢‘é“åˆ—è¡¨ä¸­çš„æ•°å­—ä¿æŠ¤ */
.channel-list .numbers-not-emoji,
.channel-item .numbers-not-emoji,
.dm-item .numbers-not-emoji,
.group-item .numbers-not-emoji,
.last-message .numbers-not-emoji,
.message-sender .numbers-not-emoji {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
}

/* ğŸ’¬ æ¶ˆæ¯å†…å®¹ä¸­çš„æ•°å­—ç¬¦å·ä¿æŠ¤ */
.message-content .numbers-not-emoji,
.message-content .symbols-not-emoji,
.message-content .ascii-not-emoji,
.discord-message-item .numbers-not-emoji,
.discord-message-item .symbols-not-emoji,
.discord-message-item .ascii-not-emoji {
  font-family: var(--numbers-font-family) !important;
  font-size: var(--numbers-font-size) !important;
  line-height: var(--numbers-line-height) !important;
  letter-spacing: var(--numbers-letter-spacing) !important;
}

/* ğŸ“± å“åº”å¼æ•°å­—ç¬¦å·ä¼˜åŒ– */
@media (max-width: 768px) {
  :root {
    --numbers-font-size: 15px;
    --numbers-line-height: 1.5;
  }
}

@media (max-width: 480px) {
  :root {
    --numbers-font-size: 16px;
    --numbers-line-height: 1.6;
  }
}

/* ğŸŒ™ æš—è‰²ä¸»é¢˜æ•°å­—ç¬¦å·ä¼˜åŒ– */
@media (prefers-color-scheme: dark) {
  :root {
    --numbers-font-weight: 400; /* æš—è‰²ä¸»é¢˜ä¸‹ä¿æŒæ­£å¸¸å­—é‡ */
  }
}

/* ğŸ–¨ï¸ é«˜åˆ†è¾¨ç‡å±å¹•ä¼˜åŒ– */
@media (min-resolution: 2dppx) {
  .numbers-not-emoji,
  .symbols-not-emoji,
  .ascii-not-emoji {
    -webkit-font-smoothing: subpixel-antialiased !important;
    text-rendering: geometricPrecision !important;
  }
}

/* ğŸ¯ é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
@media (prefers-contrast: high) {
  :root {
    --numbers-font-weight: 500;
  }
}

/* ğŸ” è°ƒè¯•è¾…åŠ© - å¼€å‘ç¯å¢ƒå¯è§†åŒ– */
@media screen and (min-width: 0) {
  .debug-numbers-protection .numbers-not-emoji {
    outline: 2px solid #00ff00 !important;
    background: rgba(0, 255, 0, 0.1) !important;
  }
  
  .debug-numbers-protection .symbols-not-emoji {
    outline: 2px solid #0000ff !important;
    background: rgba(0, 0, 255, 0.1) !important;
  }
  
  .debug-numbers-protection .ascii-not-emoji {
    outline: 2px solid #ff8800 !important;
    background: rgba(255, 136, 0, 0.1) !important;
  }
} 