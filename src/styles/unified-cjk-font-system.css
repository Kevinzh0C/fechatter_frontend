/* ğŸŒ Unified CJK Font System - ç»Ÿä¸€ä¸­æ—¥éŸ©å­—ä½“ç³»ç»Ÿ
 * è§£å†³ä¸­æ–‡ã€æ—¥è¯­ã€éŸ©è¯­å­—ä½“æ˜¾ç¤ºé—®é¢˜
 * ç¡®ä¿å…¨éƒ¨æ¶ˆæ¯å­—ä½“é£æ ¼ç»Ÿä¸€
 * åŸºäºç³»ç»Ÿå­—ä½“ä¼˜åŒ–ï¼Œæä¾›æœ€ä½³é˜…è¯»ä½“éªŒ
 */

:root {
  /* ğŸ¯ ç»Ÿä¸€CJKå­—ä½“æ—å®šä¹‰ */
  
  /* ä¸­æ–‡ä¼˜åŒ–å­—ä½“æ ˆ - ç®€ä½“ä¸­æ–‡ */
  --font-family-chinese-simplified: 
    'PingFang SC', 
    'Hiragino Sans GB', 
    'Source Han Sans SC', 
    'Source Han Sans CN', 
    'Microsoft YaHei', 
    'WenQuanYi Micro Hei', 
    'Noto Sans CJK SC', 
    'Droid Sans Fallback', 
    -apple-system, 
    BlinkMacSystemFont, 
    sans-serif;

  /* ä¸­æ–‡ä¼˜åŒ–å­—ä½“æ ˆ - ç¹ä½“ä¸­æ–‡ */
  --font-family-chinese-traditional: 
    'PingFang TC', 
    'Hiragino Sans CNS', 
    'Source Han Sans TC', 
    'Source Han Sans TW', 
    'Microsoft JhengHei', 
    'Noto Sans CJK TC', 
    -apple-system, 
    BlinkMacSystemFont, 
    sans-serif;

  /* æ—¥è¯­ä¼˜åŒ–å­—ä½“æ ˆ */
  --font-family-japanese: 
    'Hiragino Kaku Gothic ProN', 
    'Hiragino Sans', 
    'Yu Gothic Medium', 
    'Yu Gothic', 
    'Meiryo', 
    'Source Han Sans JP', 
    'Noto Sans CJK JP', 
    'MS PGothic',
    -apple-system, 
    BlinkMacSystemFont, 
    sans-serif;

  /* éŸ©è¯­ä¼˜åŒ–å­—ä½“æ ˆ */
  --font-family-korean: 
    'Apple SD Gothic Neo', 
    'Malgun Gothic', 
    'Source Han Sans KR', 
    'Noto Sans CJK KR', 
    'Nanum Gothic', 
    'Dotum', 
    'Gulim',
    -apple-system, 
    BlinkMacSystemFont, 
    sans-serif;

  /* ğŸ¨ ç»Ÿä¸€æ··åˆå­—ä½“æ ˆ - æ™ºèƒ½CJKæ”¯æŒ */
  --font-family-unified-cjk: 
    /* ç³»ç»Ÿå­—ä½“ä¼˜å…ˆ */
    -apple-system, 
    BlinkMacSystemFont, 
    'Segoe UI',
    /* ä¸­æ–‡å­—ä½“ */
    'PingFang SC', 
    'PingFang TC', 
    'Hiragino Sans GB', 
    'Source Han Sans SC', 
    'Microsoft YaHei',
    /* æ—¥è¯­å­—ä½“ */
    'Hiragino Kaku Gothic ProN', 
    'Yu Gothic Medium',
    'Source Han Sans JP',
    /* éŸ©è¯­å­—ä½“ */
    'Apple SD Gothic Neo', 
    'Malgun Gothic',
    'Source Han Sans KR',
    /* é€šç”¨CJKå­—ä½“ */
    'Noto Sans CJK SC', 
    'Noto Sans CJK JP', 
    'Noto Sans CJK KR',
    /* è¥¿æ–‡å­—ä½“åå¤‡ */
    'Helvetica Neue', 
    Arial, 
    sans-serif,
    /* Emojiæ”¯æŒ */
    'Apple Color Emoji', 
    'Segoe UI Emoji', 
    'Noto Color Emoji';

  /* ğŸ“ CJKä¸“ç”¨æ’ç‰ˆå‚æ•° */
  --cjk-letter-spacing: 0.015em;
  --cjk-line-height: 1.6;
  --cjk-font-weight-normal: 400;
  --cjk-font-weight-medium: 500;
  --cjk-font-weight-bold: 600;
  
  /* ğŸ¨ CJKæ–‡æœ¬æ¸²æŸ“ä¼˜åŒ– */
  --cjk-font-smooth: antialiased;
  --cjk-text-rendering: optimizeLegibility;
  --cjk-font-feature-settings: 'liga' 1, 'kern' 1, 'palt' 1;
}

/* ğŸŒ å…¨å±€CJKå­—ä½“åº”ç”¨ */
html, body, #app {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing);
  line-height: var(--cjk-line-height);
  -webkit-font-smoothing: var(--cjk-font-smooth);
  -moz-osx-font-smoothing: grayscale;
  text-rendering: var(--cjk-text-rendering);
  font-feature-settings: var(--cjk-font-feature-settings);
}

/* ğŸ¯ æ¶ˆæ¯ç»„ä»¶ç»Ÿä¸€å­—ä½“ */
.discord-message-item,
.message-item,
.chat-message,
.message-content,
.message-text,
.content-wrapper {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
  font-weight: var(--cjk-font-weight-normal) !important;
  -webkit-font-smoothing: var(--cjk-font-smooth);
  -moz-osx-font-smoothing: grayscale;
  text-rendering: var(--cjk-text-rendering);
  font-feature-settings: var(--cjk-font-feature-settings);
}

/* ğŸ‘¤ ç”¨æˆ·åç»Ÿä¸€å­—ä½“ */
.username-button,
.sender-name,
.user-name,
.author-name {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  font-weight: var(--cjk-font-weight-medium) !important;
  -webkit-font-smoothing: var(--cjk-font-smooth);
  -moz-osx-font-smoothing: grayscale;
  text-rendering: var(--cjk-text-rendering);
}

/* ğŸ·ï¸ é¢‘é“å’Œæ ‡é¢˜ç»Ÿä¸€å­—ä½“ */
.channel-title,
.chat-title,
.channel-name,
.workspace-name {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  font-weight: var(--cjk-font-weight-medium) !important;
  -webkit-font-smoothing: var(--cjk-font-smooth);
  text-rendering: var(--cjk-text-rendering);
}

/* ğŸ“± è¾“å…¥æ¡†ç»Ÿä¸€å­—ä½“ */
.message-input,
.chat-input,
textarea,
input[type="text"],
input[type="search"] {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
  -webkit-font-smoothing: var(--cjk-font-smooth);
  text-rendering: var(--cjk-text-rendering);
}

/* ğŸ”¤ ç‰¹å®šè¯­è¨€ä¼˜åŒ– */

/* ä¸­æ–‡å­—ä½“ä¸“é¡¹ä¼˜åŒ– */
:lang(zh),
[lang="zh"],
[lang="zh-CN"],
[lang="zh-Hans"],
.chinese-text,
.content-chinese {
  font-family: var(--font-family-chinese-simplified) !important;
  letter-spacing: 0.01em !important;
  line-height: 1.65 !important;
  font-weight: var(--cjk-font-weight-normal) !important;
}

/* ç¹ä½“ä¸­æ–‡ä¼˜åŒ– */
:lang(zh-TW),
:lang(zh-HK),
[lang="zh-TW"],
[lang="zh-HK"],
[lang="zh-Hant"] {
  font-family: var(--font-family-chinese-traditional) !important;
  letter-spacing: 0.01em !important;
  line-height: 1.65 !important;
}

/* æ—¥è¯­å­—ä½“ä¸“é¡¹ä¼˜åŒ– */
:lang(ja),
[lang="ja"],
[lang^="ja-"],
.japanese-text,
.content-japanese {
  font-family: var(--font-family-japanese) !important;
  letter-spacing: 0.02em !important;
  line-height: 1.6 !important;
  font-weight: var(--cjk-font-weight-normal) !important;
  word-break: keep-all !important;
  overflow-wrap: break-word !important;
}

/* éŸ©è¯­å­—ä½“ä¸“é¡¹ä¼˜åŒ– */
:lang(ko),
[lang="ko"],
[lang^="ko-"],
.korean-text,
.content-korean {
  font-family: var(--font-family-korean) !important;
  letter-spacing: 0.015em !important;
  line-height: 1.6 !important;
  font-weight: var(--cjk-font-weight-normal) !important;
}

/* ğŸ”§ å¼ºåˆ¶ç»Ÿä¸€å­—ä½“ä¿®å¤ç±» */
.unified-cjk-font,
.force-unified-font {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
  -webkit-font-smoothing: var(--cjk-font-smooth) !important;
  -moz-osx-font-smoothing: grayscale !important;
  text-rendering: var(--cjk-text-rendering) !important;
  font-feature-settings: var(--cjk-font-feature-settings) !important;
}

/* ğŸ“ æ·±åº¦æ ·å¼é€‰æ‹©å™¨ - ç¡®ä¿Vueç»„ä»¶å†…éƒ¨ä¹Ÿåº”ç”¨ */
* :deep(.message-content),
* :deep(.content-wrapper),
* :deep(.message-text),
* :deep(.sender-name),
* :deep(.username-button),
* :deep(.chat-message),
* :deep(.discord-message) {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
}

/* ğŸ¨ Markdownå†…å®¹ä¼˜åŒ– */
.content-wrapper :deep(p),
.content-wrapper :deep(div),
.content-wrapper :deep(span),
.message-content p,
.message-content div,
.message-content span {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
  font-weight: var(--cjk-font-weight-normal) !important;
}

/* ğŸ”— é“¾æ¥å’Œå¼ºè°ƒæ–‡æœ¬ */
.content-wrapper :deep(a),
.content-wrapper :deep(strong),
.content-wrapper :deep(em) {
  font-family: inherit !important;
  letter-spacing: inherit !important;
}

/* ğŸ“± å“åº”å¼CJKå­—ä½“è°ƒæ•´ */
@media (max-width: 768px) {
  :root {
    --cjk-letter-spacing: 0.02em;
    --cjk-line-height: 1.65;
  }
  
  /* å­—ä½“å¤§å°ç”±unified-font-size-fix.cssç»Ÿä¸€æ§åˆ¶ */
}

@media (max-width: 480px) {
  :root {
    --cjk-letter-spacing: 0.025em;
    --cjk-line-height: 1.7;
  }
  
  /* å­—ä½“å¤§å°ç”±unified-font-size-fix.cssç»Ÿä¸€æ§åˆ¶ */
}

/* ğŸŒ™ æš—è‰²ä¸»é¢˜CJKä¼˜åŒ– */
@media (prefers-color-scheme: dark) {
  :root {
    --cjk-font-smooth: subpixel-antialiased;
    --cjk-font-weight-normal: 450; /* ç¨å¾®å¢åŠ å­—é‡æé«˜å¯è¯»æ€§ */
    --cjk-font-weight-medium: 550;
  }
}

/* ğŸ–¨ï¸ é«˜åˆ†è¾¨ç‡å±å¹•ä¼˜åŒ– */
@media (min-resolution: 2dppx) {
  :root {
    --cjk-font-smooth: subpixel-antialiased;
  }
}

/* ğŸ¯ é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
@media (prefers-contrast: high) {
  :root {
    --cjk-font-weight-normal: 500;
    --cjk-font-weight-medium: 600;
    --cjk-font-weight-bold: 700;
  }
}

/* ğŸ” æœç´¢é«˜äº®CJKæ–‡æœ¬ */
mark,
.search-highlight,
.highlighted-text {
  font-family: inherit !important;
  letter-spacing: inherit !important;
  background-color: rgba(255, 235, 59, 0.3);
  padding: 0.1em 0.2em;
  border-radius: 2px;
}

/* ğŸ’¬ å¼•ç”¨å’Œä»£ç å—ä¸­çš„CJKæ–‡æœ¬ */
blockquote,
.quote-block {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
}

/* ğŸ“‹ åˆ—è¡¨é¡¹CJKæ–‡æœ¬ */
li,
.list-item {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
}

/* ğŸ·ï¸ æ ‡ç­¾å’Œå¾½ç«  */
.tag,
.badge,
.label {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
}

/* ğŸ”² æŒ‰é’®æ–‡æœ¬ */
button,
.button,
.btn {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  -webkit-font-smoothing: var(--cjk-font-smooth);
}

/* ğŸ“Š è¡¨æ ¼å†…å®¹ */
table,
td,
th {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
}

/* ğŸª æ¨¡æ€æ¡†å’Œå¼¹çª— */
.modal,
.popup,
.dialog {
  font-family: var(--font-family-unified-cjk) !important;
  letter-spacing: var(--cjk-letter-spacing) !important;
  line-height: var(--cjk-line-height) !important;
}

/* ğŸš¨ é‡è¦ï¼šè¦†ç›–å…¶ä»–å­—ä½“è®¾ç½® */
* {
  /* ä½¿ç”¨æ›´é«˜ä¼˜å…ˆçº§ç¡®ä¿CJKå­—ä½“åº”ç”¨ */
}

/* ğŸ“ ç‰¹æ®Šå…ƒç´ æ’é™¤ */
code,
pre,
.hljs,
.code-block,
.monospace {
  /* ä»£ç å—ä¿æŒç­‰å®½å­—ä½“ */
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace !important;
  letter-spacing: normal !important;
}

/* ğŸµ ä¿æŒç­‰å®½å­—ä½“çš„å…ƒç´  */
.timestamp,
.time,
.duration {
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace !important;
  letter-spacing: normal !important;
} 